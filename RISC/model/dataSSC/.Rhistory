load("D://Dropbox//DEVIL_Dropbox//sse.RData")
load("D://Dropbox//DEVIL_Dropbox//sse.RData")
View(result.sse)
install.packages("plot3D")
library(plot3D)
surf3D(result.sse$weight.un.trade, result.sse$weight.aspiration, result.sse$sse)
x = data.frame(result.sse$weight.un.trade)
surf3D(x, result.sse$weight.aspiration, result.sse$sse)
x = result.sse["weight.un.trade", ]
surf3D(x, result.sse$weight.aspiration, result.sse$sse)
x = matrix(result.sse$weight.un.trade)
surf3D(x, result.sse$weight.aspiration, result.sse$sse)
x = matrix(result.sse$weight.un.trade)
y = matrix(result.sse$weight.aspiration)
z = matrix(result.sse$sse)
surf3D(x, y, z)
nrow(x)
ncol(x)
surf3D(x, y, z, colvar = z, phi = 40, theta = 40)
surf3D(x, y, z, colvar = y, colkey = FALSE, shade = 0.5, box = FALSE, theta = 60)
install.packages("scatterplot3d")
library(scatterplot3d)
scatterplot3d(x, y, z, colvar = z, phi = 40, theta = 40, plot = TRUE)
scatterplot3d(result.sse$weight.un.trade, result.sse$weight.aspiration, result.sse$sse, xlab = "un trade volume", ylab = "aspiration", zlab = "sse")
install.packages("mgcv")
library(mgcv)
mod <- gam(z ~ te(x, y), data = data.frame(cbind(x, y, z)))
m2 <- matrix(fitted(mod), ncol = 8)
library(lattice)
wireframe(m2)
View(m2)
View(m2)
temp = data.frame(cbind(x, y, z)
)
View(temp)
View(temp)
dta = data.frame(cbind(x, y, z))
names(dta) = c("x", "y", "z")
mod <- gam(z ~ te(x, y), data = dta)
m2 <- matrix(fitted(mod), ncol = 8)
wireframe(m2)
View(dta)
View(dta)
View(m2)
View(m2)
m2 <- matrix(fitted(mod), ncol = 4)
wireframe(m2)
wireframe(dta)
wireframe(matrix(dta))
library(rgl)
install.packages("rgl")
library(rgl)
library(rgl)
setwd("D://Dropbox//RISC_BREXIT//dataSSC")
library(plotrix)
for(year in c(0 : 12))
{
file.name = paste("dta", sprintf("%02d", year), ".csv", sep = "")
dta = data.frame(read.csv(file = file.name, header = TRUE))
if(year == 0)
{
dta.successor = dta[, c("HOLDING_CODE", "successor")]
dta.off.farm = dta[, c("HOLDING_CODE", "off.farm.income")]
}
else
{
dta.successor = merge(dta.successor, dta[, c("HOLDING_CODE", "successor")], by.x = "HOLDING_CODE", by.y = "HOLDING_CODE", suffixes = c(year - 1, year))
dta.off.farm = merge(dta.off.farm, dta[, c("HOLDING_CODE", "off.farm.income")], by.x = "HOLDING_CODE", by.y = "HOLDING_CODE", suffixes = c(year - 1, year))
}
}
colnames(dta.successor)[14] = "successor12"
colnames(dta.off.farm)[14] = "off.farm.income12"
n = nrow(dta)
n.successor = c()
n.off.farm = c()
for(year in c(0 : 12))
{
var.name1 = paste("successor", year, sep = "")
var.name2 = paste("off.farm.income", year, sep = "")
n.successor = c(n.successor, length(which(dta.successor[ , colnames(dta.successor) == var.name1] == FALSE)))
n.off.farm = c(n.off.farm, length(which(dta.off.farm[ , colnames(dta.off.farm) == var.name2])))
}
font = 1.8
ylab.label = "proportion"
xlab.label = "year"
plot(c(2000:2012), n.successor / n, type = "l", main = "proportion of owners aged 65+", xlab = xlab.label, ylab = ylab.label, cex.main = font, cex.axis = font, cex.lab = font, lwd = 2 * font)
axis.break(axis=2, breakpos=NULL, pos=NA, bgcol="white", breakcol="black", style="zigzag", brw=0.05)
plot(c(2000:2012), n.successor / n, type = "l", main = "proportion of owners aged 65+", xlab = xlab.label, ylab = ylab.label, cex.main = font, cex.axis = font, cex.lab = font, lwd = 2 * font)
axis.break(2, 0.45, breakpos=NULL, pos=NA, bgcol="white", breakcol="black", style="zigzag", brw=0.05)
plot(c(2000:2012), n.successor / n, type = "l", main = "proportion of owners aged 65+", xlab = xlab.label, ylab = ylab.label, cex.main = font, cex.axis = font, cex.lab = font, lwd = 2 * font)
axis.break(2, breakpos = 0.48, pos=NA, bgcol="white", breakcol="black", style="zigzag", brw=0.05)
plot(c(2000:2012), n.successor / n, type = "l", main = "proportion of owners aged 65+", xlab = xlab.label, ylab = ylab.label, cex.main = font, cex.axis = font, cex.lab = font, lwd = 2 * font)
axis.break(2, breakpos = 0.5, pos=NA, bgcol="white", breakcol="black", style="zigzag", brw=0.05)
plot(c(2000:2012), n.off.farm / n, type = "l", main = "proportion of no fulltime worker on the farm", xlab = xlab.label, ylab = ylab.label, cex.main = font, cex.axis = font, cex.lab = font, lwd = 2 * font) # yaxt = 'n',
#axis(2, at = c(5000, 6000, 6500), cex.axis = cex.value)
axis.break(2, breakpos = 0.4, style="zigzag", brw=0.05)
plot(c(2000:2012), n.off.farm / n, type = "l", main = "proportion of no fulltime worker on the farm", xlab = xlab.label, ylab = ylab.label, cex.main = font, cex.axis = font, cex.lab = font, lwd = 2 * font) # yaxt = 'n',
#axis(2, at = c(5000, 6000, 6500), cex.axis = cex.value)
axis.break(2, breakpos = 0.39, style="zigzag", brw=0.05)
plot(c(2000:2012), n.off.farm / n, type = "l", main = "proportion of no fulltime worker on the farm", xlab = xlab.label, ylab = ylab.label, cex.main = font, cex.axis = font, cex.lab = font, lwd = 2 * font) # yaxt = 'n',
#axis(2, at = c(5000, 6000, 6500), cex.axis = cex.value)
axis.break(2, breakpos = 0.395, style="zigzag", brw=0.05)
plot(c(2000:2012), n.off.farm / n, type = "l", main = "proportion of no fulltime worker on the farm", xlab = xlab.label, ylab = ylab.label, cex.main = font, cex.axis = font, cex.lab = font, lwd = 2 * font) # yaxt = 'n',
#axis(2, at = c(5000, 6000, 6500), cex.axis = cex.value)
axis.break(2, breakpos = 0.4, style="zigzag", brw=0.05)
plot(c(2000:2012), n.successor / n, type = "l", main = "proportion of owners aged 65+", xlab = xlab.label, ylab = ylab.label, cex.main = font, cex.axis = font, cex.lab = font, lwd = 2 * font)
axis.break(2, breakpos = 0.5, pos=NA, bgcol="white", breakcol="black", style="zigzag", brw=0.05)
